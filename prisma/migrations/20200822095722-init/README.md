# Migration `20200822095722-init`

This migration has been generated by jackthomsonn at 8/22/2020, 9:57:22 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Order" ADD COLUMN "stripeAddressReference" integer  NOT NULL ;

CREATE UNIQUE INDEX "Order.stripeAddressReference" ON "public"."Order"("stripeAddressReference")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200718074328-init..20200822095722-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -35,18 +35,19 @@
   Order       Order?
 }
 model Order {
-  id               Int            @default(autoincrement()) @id
-  status           Status
-  createdDate      DateTime       @default(now())
-  updatedDate      DateTime?
-  lineItems        LineItem[]
-  addressDetails   AddressDetails @relation(fields: [addressDetailsId], references: [id])
-  addressDetailsId Int
-  user             User           @relation(fields: [userId], references: [id])
-  userId           Int
-  shareable        Boolean        @default(false)
+  id                     Int            @default(autoincrement()) @id
+  stripeAddressReference Int            @unique
+  status                 Status
+  createdDate            DateTime       @default(now())
+  updatedDate            DateTime?
+  lineItems              LineItem[]
+  addressDetails         AddressDetails @relation(fields: [addressDetailsId], references: [id])
+  addressDetailsId       Int
+  user                   User           @relation(fields: [userId], references: [id])
+  userId                 Int
+  shareable              Boolean        @default(false)
 }
 model LineItem {
   id             Int             @default(autoincrement()) @id
```


